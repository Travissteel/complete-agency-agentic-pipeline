# Sample Extraction Prompts for Claude AI

## General Data Extraction (Default)

```
Extract the following information from this document and return as a JSON array:

For each item found, extract:
- name
- date
- amount
- description
- any other relevant fields

Return ONLY valid JSON array format with no additional text. If you cannot find structured data, return an empty array [].

Document content:
{pdf_text}
```

---

## Invoice Extraction

```
Extract invoice data from this PDF document.

For each line item, extract:
- item_name: Product or service name
- item_description: Detailed description
- quantity: Number of units
- unit_price: Price per unit
- line_total: Total for this line item
- tax_rate: Tax percentage if applicable

Also extract header information:
- invoice_number: Invoice ID
- invoice_date: Date of invoice
- due_date: Payment due date
- vendor_name: Seller/vendor name
- vendor_address: Seller address
- customer_name: Buyer name
- customer_address: Buyer address
- subtotal: Total before tax
- tax_amount: Total tax
- total_amount: Final total

Return as JSON object with:
{
  "invoice_info": { header fields },
  "line_items": [ array of line items ]
}

Return ONLY valid JSON with no markdown formatting.

Document text:
{pdf_text}
```

---

## Resume/CV Parsing

```
Extract candidate information from this resume/CV document.

Extract the following fields:
- full_name: Candidate's full name
- email: Email address
- phone: Phone number
- location: City, State/Country
- linkedin_url: LinkedIn profile URL if present
- portfolio_url: Portfolio or personal website
- summary: Professional summary or objective (2-3 sentences max)
- skills: Array of technical and soft skills
- work_experience: Array of objects with:
  - company: Company name
  - title: Job title
  - start_date: Start date
  - end_date: End date (or "Present")
  - responsibilities: Array of key responsibilities/achievements
- education: Array of objects with:
  - institution: School/university name
  - degree: Degree type and major
  - graduation_date: Graduation date
  - gpa: GPA if listed
- certifications: Array of certifications with name and date
- languages: Array of languages with proficiency level

Return as JSON object. If any field is not found, use null.

Resume text:
{pdf_text}
```

---

## Contract/Legal Document Analysis

```
Extract key information from this legal contract document.

Extract:
- contract_type: Type of agreement (e.g., "Service Agreement", "NDA")
- effective_date: When contract takes effect
- expiration_date: When contract ends
- parties: Array of parties with:
  - name: Party name
  - role: Role in contract (e.g., "Provider", "Client")
  - address: Legal address
- key_terms: Array of important terms with:
  - term_name: Name of the term/clause
  - description: Brief description
  - reference: Section number
- payment_terms: Object with:
  - amount: Payment amount
  - frequency: Payment schedule
  - due_date: When payment is due
- termination_clauses: Array of termination conditions
- jurisdiction: Legal jurisdiction/governing law

Return as JSON object. Be precise with dates and amounts.

Contract text:
{pdf_text}
```

---

## Financial Report Analysis

```
Extract financial data from this report document.

Extract:
- report_type: Type of report (e.g., "Annual Report", "Quarterly")
- reporting_period: Period covered (e.g., "Q1 2026")
- company_name: Company name
- financials: Object with:
  - revenue: Total revenue
  - cost_of_goods_sold: COGS
  - gross_profit: Gross profit
  - operating_expenses: Operating expenses
  - net_income: Net income/profit
  - earnings_per_share: EPS
- balance_sheet: Object with:
  - total_assets: Total assets
  - total_liabilities: Total liabilities
  - shareholders_equity: Equity
- cash_flow: Object with:
  - operating_cash_flow: Cash from operations
  - investing_cash_flow: Cash from investing
  - financing_cash_flow: Cash from financing
- key_metrics: Object with relevant ratios/metrics
- notes: Array of significant notes or disclaimers

All monetary values should be numbers (not strings). Include currency if mentioned.

Return as JSON object.

Document text:
{pdf_text}
```

---

## Medical Records Extraction

```
Extract patient information from this medical document.

IMPORTANT: Handle with HIPAA compliance in mind.

Extract:
- patient_info: Object with:
  - patient_id: Patient identifier (anonymize if needed)
  - name: Patient name
  - date_of_birth: DOB
  - gender: Gender
  - contact: Contact information
- visit_info: Object with:
  - visit_date: Date of visit
  - facility: Healthcare facility name
  - provider: Healthcare provider name
  - visit_type: Type of visit (e.g., "Consultation")
- diagnoses: Array of diagnoses with:
  - condition: Diagnosis name
  - icd_code: ICD-10 code if present
  - status: Status (e.g., "Active", "Resolved")
- medications: Array of medications with:
  - name: Medication name
  - dosage: Dosage information
  - frequency: How often taken
  - prescribing_doctor: Who prescribed
- procedures: Array of procedures performed
- lab_results: Array of lab results with name and value
- allergies: Array of known allergies
- vital_signs: Object with:
  - blood_pressure: BP reading
  - heart_rate: Heart rate
  - temperature: Body temperature
  - weight: Weight
  - height: Height

Return as JSON object. Maintain confidentiality.

Document text:
{pdf_text}
```

---

## Purchase Order Processing

```
Extract purchase order details from this document.

Extract:
- po_number: Purchase order number
- po_date: Date of PO
- buyer: Object with:
  - company_name: Buyer company
  - contact_person: Contact name
  - email: Email
  - phone: Phone
  - address: Shipping address
- seller: Object with:
  - company_name: Seller/vendor company
  - contact_person: Contact name
  - email: Email
  - phone: Phone
- items: Array of line items with:
  - item_code: Product/SKU code
  - description: Item description
  - quantity: Quantity ordered
  - unit_price: Price per unit
  - total_price: Line total
- shipping_info: Object with:
  - method: Shipping method
  - expected_date: Expected delivery
  - tracking: Tracking number if present
- payment_terms: Payment terms/conditions
- subtotal: Subtotal before tax/shipping
- tax: Tax amount
- shipping_cost: Shipping cost
- total: Grand total

Return as JSON object with proper numeric values.

Document text:
{pdf_text}
```

---

## Receipt/Expense Report

```
Extract expense information from this receipt or expense report.

For each expense item, extract:
- merchant: Merchant/vendor name
- date: Date of purchase
- category: Expense category (e.g., "Meals", "Travel", "Office Supplies")
- description: Item description
- amount: Amount spent
- payment_method: How it was paid (e.g., "Credit Card", "Cash")
- currency: Currency code (e.g., "USD")
- tax_amount: Tax amount if shown
- is_reimbursable: Boolean if document indicates reimbursability

Also extract summary if present:
- total_expenses: Total amount
- employee_name: Employee who incurred expenses
- report_date: Date of expense report
- approval_status: If approval status is shown

Return as JSON object:
{
  "summary": { summary fields },
  "expenses": [ array of expense items ]
}

Document text:
{pdf_text}
```

---

## Table Extraction (Generic)

```
Extract all tables from this document.

For each table found:
- Identify headers (column names)
- Extract all rows
- Maintain data types (numbers as numbers, dates as dates)
- Preserve table structure

Return as JSON array of table objects:
[
  {
    "table_name": "Descriptive name for table",
    "headers": ["Column1", "Column2", "Column3"],
    "rows": [
      {"Column1": "value1", "Column2": "value2", "Column3": "value3"},
      {"Column1": "value4", "Column2": "value5", "Column3": "value6"}
    ]
  }
]

If no tables found, return empty array [].

Document text:
{pdf_text}
```

---

## Form Data Extraction

```
Extract filled form data from this document.

Identify form fields and their values. For each field:
- field_name: Name of the field (or label)
- field_value: Value that was filled in
- field_type: Type of field (e.g., "text", "checkbox", "date", "signature")

Return as JSON object with fields grouped logically:
{
  "form_title": "Name of the form",
  "form_date": "Date form was filled",
  "sections": [
    {
      "section_name": "Section title",
      "fields": [
        {"field_name": "...", "field_value": "...", "field_type": "..."}
      ]
    }
  ]
}

Document text:
{pdf_text}
```

---

## Usage Instructions

1. **Choose the appropriate prompt** for your use case
2. **Copy the prompt text**
3. **Open the "Claude AI Extraction" node** in your n8n workflow
4. **Paste into the `content` field** of the messages array
5. **Replace `{pdf_text}` with**: `{{$node['Extract from File'].json.data}}`
6. **Test with sample PDFs** to verify extraction accuracy
7. **Refine the prompt** based on results

---

## Prompt Engineering Tips

### For Better Results:

1. **Be Specific**: Clearly define each field you want extracted
2. **Provide Examples**: Add example output format in the prompt
3. **Set Constraints**: Specify data types (number, string, date, boolean)
4. **Handle Edge Cases**: Tell Claude what to do when data is missing
5. **Enforce Format**: Use phrases like "Return ONLY valid JSON" to avoid markdown

### Common Issues:

- **Claude returns markdown code blocks**: Add "no markdown formatting" to prompt
- **Missing fields**: Specify "use null for missing values"
- **Inconsistent format**: Provide exact JSON structure example
- **Too much text**: Use "extract only the following fields" to focus Claude

---

## Example Output Formats

### Invoice Example:
```json
{
  "invoice_info": {
    "invoice_number": "INV-2026-001",
    "invoice_date": "2026-02-01",
    "vendor_name": "Acme Corp",
    "total_amount": 1250.00
  },
  "line_items": [
    {
      "item_name": "Widget A",
      "quantity": 10,
      "unit_price": 100.00,
      "line_total": 1000.00
    },
    {
      "item_name": "Widget B",
      "quantity": 5,
      "unit_price": 50.00,
      "line_total": 250.00
    }
  ]
}
```

### Resume Example:
```json
{
  "full_name": "John Doe",
  "email": "john.doe@email.com",
  "phone": "+1-555-0123",
  "skills": ["Python", "JavaScript", "AWS", "Docker"],
  "work_experience": [
    {
      "company": "Tech Corp",
      "title": "Senior Developer",
      "start_date": "2024-01",
      "end_date": "Present",
      "responsibilities": [
        "Led team of 5 developers",
        "Built microservices architecture"
      ]
    }
  ]
}
```

---

## Customization Template

```
Extract {WHAT TO EXTRACT} from this {DOCUMENT TYPE}.

For each {ITEM/RECORD}, extract:
- {field_name}: {description}
- {field_name}: {description}

Also extract:
- {field_name}: {description}

Return as JSON {OBJECT/ARRAY} with structure:
{PROVIDE EXACT JSON STRUCTURE EXAMPLE}

Special instructions:
- {ANY EDGE CASES}
- {DATA TYPE REQUIREMENTS}
- {WHAT TO DO IF MISSING}

Return ONLY valid JSON with no additional text or markdown.

Document text:
{pdf_text}
```

Replace placeholders with your specific requirements.
